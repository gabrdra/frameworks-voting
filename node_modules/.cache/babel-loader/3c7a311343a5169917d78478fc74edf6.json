{"ast":null,"code":"import _objectSpread from\"/home/gabriel/Frameworks/frameworks-voting/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/gabriel/Frameworks/frameworks-voting/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Booth from'./Booth';import Results from'./Results';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function VotingCard(args){var _useState=useState(args.state),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var options=args.votes.map(function(vote){return vote.option;});useEffect(function(){if(state!==args.state){setState(args.state);}},[args.state]);var votingBooth=/*#__PURE__*/_jsx(Booth,{options:options,onVote:onVote});if(state==='close'){votingBooth=/*#__PURE__*/_jsx(Results,_objectSpread({},args));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:args.title}),votingBooth]});function onVote(key){args.votes.every(function(vote){if(vote.option===key){//console.log(vote.count);\nvote.count++;//console.log(vote.count);\nsetState('close');return false;}return true;});}}VotingCard.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"VotingCard\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/VotingCard.js\"]={name:\"VotingCard\",docgenInfo:VotingCard.__docgenInfo,path:\"src/VotingCard.js\"};}","map":{"version":3,"sources":["/home/gabriel/Frameworks/frameworks-voting/src/VotingCard.js"],"names":["React","useEffect","useState","Booth","Results","VotingCard","args","state","setState","options","votes","map","vote","option","votingBooth","onVote","title","key","every","count"],"mappings":"yPAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,IAApB,CAA0B,CACrC,cAA0BJ,QAAQ,CAACI,IAAI,CAACC,KAAN,CAAlC,wCAAOA,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGH,IAAI,CAACI,KAAL,CAAWC,GAAX,CAAe,SAAAC,IAAI,QAAKA,CAAAA,IAAI,CAACC,MAAV,EAAnB,CAAhB,CACAZ,SAAS,CAAC,UAAI,CACV,GAAGM,KAAK,GAAKD,IAAI,CAACC,KAAlB,CAAwB,CACpBC,QAAQ,CAACF,IAAI,CAACC,KAAN,CAAR,CACH,CACJ,CAJQ,CAIN,CAACD,IAAI,CAACC,KAAN,CAJM,CAAT,CAKA,GAAIO,CAAAA,WAAW,cAAG,KAAC,KAAD,EAAO,OAAO,CAAIL,OAAlB,CAA2B,MAAM,CAAIM,MAArC,EAAlB,CACA,GAAGR,KAAK,GAAK,OAAb,CAAqB,CACjBO,WAAW,cAAG,KAAC,OAAD,kBAAYR,IAAZ,EAAd,CACH,CACD,mBACI,oCACI,oBAAKA,IAAI,CAACU,KAAV,EADJ,CAEKF,WAFL,GADJ,CAMA,QAASC,CAAAA,MAAT,CAAgBE,GAAhB,CAAoB,CAChBX,IAAI,CAACI,KAAL,CAAWQ,KAAX,CAAiB,SAAAN,IAAI,CAAI,CACrB,GAAGA,IAAI,CAACC,MAAL,GAAgBI,GAAnB,CAAuB,CACnB;AACAL,IAAI,CAACO,KAAL,GACA;AACAX,QAAQ,CAAC,OAAD,CAAR,CACA,MAAO,MAAP,CACH,CACD,MAAO,KAAP,CACH,CATD,EAUH,CACJ,C","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Booth from './Booth';\r\nimport Results from './Results';\r\n\r\nexport default function VotingCard(args) {\r\n    const [state, setState] = useState(args.state);\r\n    const options = args.votes.map(vote => (vote.option));\r\n    useEffect(()=>{\r\n        if(state !== args.state){\r\n            setState(args.state)\r\n        }\r\n    }, [args.state])\r\n    let votingBooth = <Booth options = {options} onVote = {onVote}/>\r\n    if(state === 'close'){\r\n        votingBooth = <Results{...args} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>{args.title}</h3>\r\n            {votingBooth}\r\n        </div>\r\n    );\r\n    function onVote(key){\r\n        args.votes.every(vote => {\r\n            if(vote.option === key){\r\n                //console.log(vote.count);\r\n                vote.count++;\r\n                //console.log(vote.count);\r\n                setState('close');\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}